{% extends 'layout.html' %}

{% block title %}
    <title>Show Page</title>
{% endblock %}

{% block content %}
<center><h1>Show Orders</h1></center>

<form method="GET" action="{% url 'show_url' %}">
  <input type="text" name="q" placeholder="Search by Supplier Name" value="{{ query }}">
  <input type="text" name="customer" placeholder="Search by Customer Name" value="{{ request.GET.customer }}">
  <input type="text" name="sales_challan_date" placeholder="Search by Sales Challan Date" value="{{ request.GET.sales_challan_date }}">
  <button type="submit">Search</button>
</form>



<a href="{% url 'export_csv_url' %}" class="btn btn-primary">Export to CSV</a>
<table class="table">
    <thead>
      <tr>
        <th scope="col">Order ID</th>
        <th scope="col">Supplier Name</th>
        <th scope="col">Customer Name</th>
        <th scope="col">Place</th>
        <th scope="col">Driver Name</th>
        <th scope="col">Lorry number</th>
        <th scope="col">Purchase Challan no.</th>
        <th scope="col">Sales Challan no</th>
        <th scope="col">Product Name</th>
        <th scope="col">pcs/Fts</th>
        <th scope="col">Number of trips</th>
        <th scope="col">Entry Date</th>
        <th scope="col">Purchase Challan Date</th>
        <th scope="col">Sales Challan Date</th>
        <th scope="col">Amount</th>
      </tr>
    </thead>
    <tbody>
    {% for i in obj %}
      <tr>
        <td>{{i.oid}}</td>
        <td>{{i.fname}}</td>
        <td>{{i.Cname}}</td>
        <td>{{i.Pname}}</td>
        <td>{{i.Dname}}</td>
        <td>{{i.Lno}}</td>
        <td>{{i.pcno}}</td>
        <td>{{i.scno}}</td>
        <td>{{i.product}}</td>
        <td>{{i.pcs}}</td>
        <td>{{i.trip}}</td>
        <td>{{i.df1}}</td>
        <td>{{i.df2}}</td>
        <td>{{i.df3}}</td>
        <td>{{i.amount}}</td>
        <td>
            <button class="btn btn-warning"><a href="{% url 'update_url' i.oid %}">Edit</a></button>&nbsp;&nbsp;
            <button class="btn btn-danger"><a href="{% url 'delete_url' i.oid %}">Delete</a></button>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock %}